{
  "type": "Microsoft.NetworkCloud/storageAppliances",
  "displayName": "Nexus Storage Appliances",
  "description": "Azure operator Nexus is a carrier grade hybrid cloud platform built for mission critical mobile network applications. It simplifies the provisioning of new network services and optimizes the deployment of network functions and applications into on premise data centers.This table collects the audit & alert logs of the Storage Appliances.",
  "tags": {},
  "properties": {},
  "simplifiedSchemaVersion": "3",
  "icmTeam": "AFOI-Network Cloud/Triage",
  "contactDL": "afoncnftall@microsoft.com",
  "relatedFunctions": [],
  "relatedTables": [
    "AzureActivity",
    "AzureMetrics"
  ],
  "tables": [
    {
      "name": "NCSStorageAudits",
      "description": "Audit log events from Nexus storage appliance providing insight into data and system access.",
      "categories": [
        "resources"
      ],
      "tags": {},
      "properties": {},
      "artifactVersion": 3,
      "dataTypeId": "MICROSOFTNETWORKCLOUD_STORAGEAPPLIANCEAUDIT",
      "isResourceCentric": true,
      "tableState": "Production",
      "isTroubleshootingAllowed": true,
      "isLakeAllowed": true,
      "input": [
        {
          "name": "ContainerName",
          "type": "String"
        },
        {
          "name": "NamespaceName",
          "type": "String"
        },
        {
          "name": "Node",
          "type": "String"
        },
        {
          "name": "PodName",
          "type": "String"
        },
        {
          "name": "action",
          "type": "String"
        },
        {
          "name": "arrayController",
          "type": "String"
        },
        {
          "name": "arrayDatetime",
          "type": "String"
        },
        {
          "name": "arrayLocation",
          "type": "String"
        },
        {
          "name": "arrayName",
          "type": "String"
        },
        {
          "name": "arraySublocation",
          "type": "String"
        },
        {
          "name": "category",
          "type": "String"
        },
        {
          "name": "clusterManagerName",
          "type": "String"
        },
        {
          "name": "clusterName",
          "type": "String"
        },
        {
          "name": "controller",
          "type": "String"
        },
        {
          "name": "interface",
          "type": "String"
        },
        {
          "name": "location",
          "type": "String"
        },
        {
          "name": "message",
          "type": "String"
        },
        {
          "name": "method",
          "type": "String"
        },
        {
          "name": "onbehalfAnnotations",
          "type": "String"
        },
        {
          "name": "onbehalfServiceId",
          "type": "String"
        },
        {
          "name": "operationName",
          "type": "String"
        },
        {
          "name": "result",
          "type": "String"
        },
        {
          "name": "session",
          "type": "String"
        },
        {
          "name": "time",
          "type": "String"
        },
        {
          "name": "user",
          "type": "String"
        }
      ],
      "transformFilePath": "KQL/TransformNCStorageApplianceAuditLogs.kql",
      "columns": [
        {
          "name": "TimeGenerated",
          "type": "DateTime",
          "isDefaultDisplay": true,
          "description": "Timestamp (UTC) when the log was generated."
        },
        {
          "name": "ArrayName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array name of the storage appliance."
        },
        {
          "name": "ArrayController",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array controller name of the storage appliance."
        },
        {
          "name": "Node",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Node name of the Nexus cluster which is generating the log."
        },
        {
          "name": "PodName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Pod name generating the log in the Nexus cluster."
        },
        {
          "name": "ContainerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the container generating the log for the Nexus cluster."
        },
        {
          "name": "Message",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Message generated by the kubernetes containers running on Nexus cluster."
        },
        {
          "name": "Action",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Action for the storage appliance."
        },
        {
          "name": "Session",
          "type": "String",
          "dataTypeHint": "GUID",
          "isDefaultDisplay": true,
          "description": "Array session of the storage appliance."
        },
        {
          "name": "User",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array user of the storage appliance."
        },
        {
          "name": "Result",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array result of the storage appliance."
        },
        {
          "name": "Location",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Location of the Nexus cluster."
        },
        {
          "name": "ClusterManagerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the ClusterManager managing the Nexus cluster."
        },
        {
          "name": "ClusterName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the on-prem Nexus cluster."
        }
      ],
      "sampleInputRecordsFilePath": "SampleInputRecords/NCStorageApplianceAuditLogs.json",
      "sampleOutputRecordsFilePath": "SampleOutputRecords/NCStorageApplianceAuditLogs.json"
    },
    {
      "name": "NCSStorageAlerts",
      "description": "Alert events logged from Nexus storage appliance providing storage system level alerts.",
      "categories": [
        "resources"
      ],
      "tags": {},
      "properties": {},
      "artifactVersion": 5,
      "dataTypeId": "MICROSOFTNETWORKCLOUD_STORAGEAPPLIANCEALERT",
      "isResourceCentric": true,
      "tableState": "Production",
      "isLakeAllowed": true,
      "isTroubleshootingAllowed": true,
      "input": [
        {
          "name": "ContainerName",
          "type": "String"
        },
        {
          "name": "NamespaceName",
          "type": "String"
        },
        {
          "name": "Node",
          "type": "String"
        },
        {
          "name": "PodName",
          "type": "String"
        },
        {
          "name": "arrayId",
          "type": "String"
        },
        {
          "name": "arrayName",
          "type": "String"
        },
        {
          "name": "arrayUTCtime",
          "type": "String"
        },
        {
          "name": "caArrayId",
          "type": "String"
        },
        {
          "name": "category",
          "type": "String"
        },
        {
          "name": "clusterManagerName",
          "type": "String"
        },
        {
          "name": "clusterName",
          "type": "String"
        },
        {
          "name": "controller",
          "type": "String"
        },
        {
          "name": "controllerSerial",
          "type": "String"
        },
        {
          "name": "domain",
          "type": "String"
        },
        {
          "name": "ipaddress",
          "type": "String"
        },
        {
          "name": "knowledgeBaseArticle",
          "type": "String"
        },
        {
          "name": "location",
          "type": "String"
        },
        {
          "name": "logtext",
          "type": "String"
        },
        {
          "name": "message",
          "type": "String"
        },
        {
          "name": "onbehalfAnnotations",
          "type": "String"
        },
        {
          "name": "onbehalfServiceId",
          "type": "String"
        },
        {
          "name": "operationName",
          "type": "String"
        },
        {
          "name": "purityVersion",
          "type": "String"
        },
        {
          "name": "severity",
          "type": "String"
        },
        {
          "name": "suggestedAction",
          "type": "String"
        },
        {
          "name": "user",
          "type": "String"
        }
      ],
      "transformFilePath": "KQL/TransformNCStorageApplianceAlertLogs.kql",
      "columns": [
        {
          "name": "TimeGenerated",
          "type": "DateTime",
          "isDefaultDisplay": true,
          "description": "Timestamp (UTC) when the log was generated."
        },
        {
          "name": "ArrayName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array name of the storage appliance."
        },
        {
          "name": "ArrayController",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array controller name of the storage appliance."
        },
        {
          "name": "Node",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Node name of the Nexus cluster which is generating the log."
        },
        {
          "name": "PodName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Pod name generating the log in the Nexus cluster."
        },
        {
          "name": "ContainerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the container generating the log for the Nexus cluster."
        },
        {
          "name": "Message",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Message generated by the kubernetes containers running on Nexus cluster."
        },
        {
          "name": "Action",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Action for the storage appliance."
        },
        {
          "name": "Domain",
          "type": "String",
          "dataTypeHint": "GUID",
          "isDefaultDisplay": true,
          "description": "Array domain of the storage appliance."
        },
        {
          "name": "User",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array user of the storage appliance."
        },
        {
          "name": "Severity",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array result of the storage appliance."
        },
        {
          "name": "Location",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Location of the Nexus cluster."
        },
        {
          "name": "ClusterManagerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the ClusterManager managing the Nexus cluster."
        },
        {
          "name": "ClusterName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the on-prem Nexus cluster."
        }
      ],
      "sampleInputRecordsFilePath": "SampleInputRecords/NCStorageApplianceAlertLogs.json",
      "sampleOutputRecordsFilePath": "SampleOutputRecords/NCStorageApplianceAlertLogs.json"
    },
    {
      "name": "NCSStorageLogs",
      "description": "All Logs from Nexus storage appliance other than audit & alert logs.",
      "categories": [
        "resources"
      ],
      "tags": {},
      "properties": {},
      "artifactVersion": 5,
      "dataTypeId": "MICROSOFTNETWORKCLOUD_STORAGEAPPLIANCELOGS",
      "isResourceCentric": true,
      "tableState": "Production",
      "isLakeAllowed": true,
      "isTroubleshootingAllowed": true,
      "input": [
        {
          "name": "ContainerName",
          "type": "String"
        },
        {
          "name": "NamespaceName",
          "type": "String"
        },
        {
          "name": "Node",
          "type": "String"
        },
        {
          "name": "PodName",
          "type": "String"
        },
        {
          "name": "arrayDatetime",
          "type": "String"
        },
        {
          "name": "arrayController",
          "type": "String"
        },
        {
          "name": "arrayName",
          "type": "String"
        },
        {
          "name": "category",
          "type": "String"
        },
        {
          "name": "clusterManagerName",
          "type": "String"
        },
        {
          "name": "clusterName",
          "type": "String"
        },
        {
          "name": "ipaddress",
          "type": "String"
        },
        {
          "name": "location",
          "type": "String"
        },
        {
          "name": "message",
          "type": "String"
        },
        {
          "name": "onbehalfAnnotations",
          "type": "String"
        },
        {
          "name": "onbehalfServiceId",
          "type": "String"
        },
        {
          "name": "operationName",
          "type": "String"
        },
        {
          "name": "storageApplianceName",
          "type": "String"
        },
        {
          "name": "time",
          "type": "String"
        }
      ],
      "transformFilePath": "KQL/TransformNCStorageApplianceLogs.kql",
      "columns": [
        {
          "name": "TimeGenerated",
          "type": "DateTime",
          "isDefaultDisplay": true,
          "description": "Timestamp (UTC) when the log was generated."
        },
        {
          "name": "ArrayName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array name of the storage appliance."
        },
        {
          "name": "ArrayController",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Array controller name of the storage appliance."
        },
        {
          "name": "Node",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Node name of the Nexus cluster which is generating the log."
        },
        {
          "name": "PodName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Pod name generating the log in the Nexus cluster."
        },
        {
          "name": "ContainerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the container generating the log for the Nexus cluster."
        },
        {
          "name": "IPAddress",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "IP address generating the log in the Nexus cluster."
        },
        {
          "name": "Message",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Message generated by the kubernetes containers running on Nexus cluster."
        },
        {
          "name": "Location",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Location of the Nexus cluster."
        },
        {
          "name": "ClusterManagerName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the ClusterManager managing the Nexus cluster."
        },
        {
          "name": "ClusterName",
          "type": "String",
          "isDefaultDisplay": true,
          "description": "Name of the on-prem Nexus cluster."
        }
      ],
      "sampleInputRecordsFilePath": "SampleInputRecords/NCStorageApplianceLogs.json",
      "sampleOutputRecordsFilePath": "SampleOutputRecords/NCStorageApplianceLogs.json"
    }
  ],
  "functions": [],
  "queries": []
}
