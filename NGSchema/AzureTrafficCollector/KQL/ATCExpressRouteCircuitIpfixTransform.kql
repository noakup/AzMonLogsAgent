source
| extend properties = parse_json(properties)
| project
	TimeGenerated = todatetime(['time']),
	OperationName = operationName,
	ATCResourceId = resourceId,
	ATCRegion = location,
	SchemaVersion = operationVersion,
	FlowRecordTime = todatetime(properties.TimeStamp),
	ExRCircuitId = tostring(properties.ExRCircuitId),
	ExRCircuitServiceKey = tostring(properties.ExRCircuitServiceKey),
	ExRCircuitDirectPortId = tostring(properties.ExRCircuitDirectPortId),
	SourceIp = tostring(properties.SourceIp),
	DestinationIp = tostring(properties.DestinationIp),
	SourcePort = toint(properties.SourcePort),
	DestinationPort = toint(properties.DestinationPort),
	Protocol = toint(properties.Protocol),
	NumberOfBytes = tolong(properties.NumberOfBytes),
	NumberOfPackets = tolong(properties.NumberOfPackets),
	Flowsequence = tolong(properties.Flowsequence),
	IpClassOfService = toint(properties.IpClassOfService),
	IpProtocolIdentifier = toint(properties.IpProtocolIdentifier),
	IcmpType = toint(properties.IcmpType),
	SrcMask = toint(properties.SrcMask),
	DstMask = toint(properties.DstMask), 
	SrcAsn = toint(properties.SrcAsn),
	DstAsn = toint(properties.DstAsn), 
	NextHop = tostring(properties.NextHop),
	TcpFlag = toint(properties.TcpFlag),
	MinTtl = toint(properties.MinTtl),
	MaxTtl = toint(properties.MaxTtl), 
	SrcSubnet = tostring(properties.SrcSubnet),
	DstSubnet = tostring(properties.DstSubnet), 
	IpVerCode = toint(properties.IpVerCode),
	BgpNextHop = tostring(properties.BgpNextHop),
	PeeringType = tostring(properties.PeeringType),
	Dot1qVlanId = toint(properties.Dot1qVlanId),
	Dot1qCustomerVlanId = toint(properties.Dot1qCustomerVlanId)