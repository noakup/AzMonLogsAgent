source
| project
    TimeGenerated = todatetime(["time"]),
    OperationName = operationName,
    OperationVersion = operationVersion,
    CorrelationId = correlationId,
    TrackingId = tostring(properties.trackingId),
    SourceType = tostring(properties.sourceType),
    WorkflowName = tostring(properties.source.workflow.name),
    WorkflowVersion = tostring(properties.source.workflow.version),
    WorkflowSystemId = tostring(properties.source.workflow.systemId),
    WorkflowSubscriptionId = tostring(properties.source.workflow.subscriptionId),
    WorkflowResourceGroup = tostring(properties.source.workflow.resourceGroup),
    WorkflowRunId = tostring(properties.source.runInstance.runId),
    WorkflowRunTrackingId = tostring(properties.source.runInstance.trackingId),
    WorkflowRunClientTrackingId = tostring(properties.source.runInstance.clientTrackingId),
    WorkflowOperationName = tostring(properties.source.operation.operationName),
    WorkflowRepeatItemScopeName = tostring(properties.source.operation.repeatItemScopeName),
    WorkflowRepeatItemIndex = toint(properties.source.operation.repeatItemIndex),
    WorkflowRepeatItemBatchIndex = toint(properties.source.operation.repeatItemBatchIndex),
    WorkflowOperationTrackingId = tostring(properties.source.operation.trackingId),
    WorkflowOperationCorrelationId = tostring(properties.source.operation.correlationId),
    WorkflowOperationClientRequestId = tostring(properties.source.operation.clientRequestId),
    WorkflowOperationOperationTrackingId = tostring(properties.source.operation.operationTrackingId),
    EventTime = todatetime(properties.event.eventTime),
    EventRecordType =  tostring(properties.event.recordType),
    Error =  properties.event.error,
    AgreementProperties = properties.event.record.agreementProperties,
    MessageProperties = properties.event.record.messageProperties