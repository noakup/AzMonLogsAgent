{ 
    "type": "Microsoft.AppConfiguration/configurationStores", 
    "displayName": "Microsoft App Configuration", 
    "description": "Azure App Configuration allows developers to store, retrieve and manage access to application settings all in one place. It is easy to set up and simple to use from any application. It gives developers the ability to modify an application's behavior on demand without having to redeploy the application.", 
    "tags": {}, 
    "properties": {}, 
    "simplifiedSchemaVersion": "3", 
    "icmTeam": "Azure AppConfig/Triage", 
    "relatedTables": [ "AzureActivity" ], 
    "relatedFunctions": [], 
    "tables": [ 
        { 
            "name": "AACHttpRequest", 
            "description": "Incoming requests to Azure App Configuration. The records in this table are aggregated. The 'HitCount' field describes the number of requests that each record accounts for.", 
            "categories": [ "resources" ], 
            "tags": {}, 
            "properties": {}, 
            "artifactVersion": 4, 
            "dataTypeId": "MICROSOFTAPPCONFIGURATION_HTTPREQUEST", 
            "intelligencePacks": [], 
            "isResourceCentric": true,
            "tableState": "Production",
            "isTroubleshootingAllowed": false,
            "input": [ 
                { 
                    "name": "time", 
                    "type": "DateTime" 
                }, 
                { 
                    "name": "operationName", 
                    "type": "String" 
                },
                { 
                    "name": "correlationId", 
                    "type": "String" 
                }, 
                { 
                    "name": "uri", 
                    "type": "String" 
                }, 
                { 
                    "name": "callerIPAddress", 
                    "type": "String" 
                }, 
                { 
                    "name": "properties", 
                    "type": "Dynamic" 
                },
                {
                    "name": "resultSignature",
                    "type": "String"
                },
                {
                    "name": "category",
                    "type": "String"
                },
                { 
                    "name": "durationMs", 
                    "type": "Int" 
                }
            ],
            "transformFilePath": "KQL/AACHttpRequest.kql",
            "sampleInputRecordsFilePath": "SampleInputRecords/AACHttpRequest.json",
            "columns": [ 
                { 
                    "name": "TimeGenerated", 
                    "type": "DateTime", 
                    "isDefaultDisplay": true, 
                    "description": "Timestamp (UTC) marking the start of the aggregation period." 
                }, 
                { 
                    "name": "Method", 
                    "type": "String", 
                    "isDefaultDisplay": true, 
                    "description": "HTTP Method." 
                },
                {
                    "name": "CorrelationId",
                    "type": "String",
                    "dataTypeHint": "GUID",
                    "isDefaultDisplay": true,
                    "description": "GUID for correlated logs."
                },
                {
                    "name": "Category",
                    "type": "String",
                    "isDefaultDisplay": true,
                    "description": "The log category of the event."
                },
                {
                    "name": "RequestId",
                    "type": "String",
                    "dataTypeHint": "GUID",
                    "isDefaultDisplay": true,
                    "description": "Unique request ID generated by server."
                },
                {
                    "name": "ClientRequestId",
                    "type": "String",
                    "dataTypeHint": "GUID",
                    "isDefaultDisplay": true,
                    "description": "Request ID provided by client."
                }, 
                {
                    "name": "DurationMs",
                    "type": "Int",
                    "isDefaultDisplay": true,
                    "description": "The average duration of the operation, in milliseconds, of all the requests included in this aggregated entry."
                },
                { 
                    "name": "RequestURI", 
                    "type": "String",
                    "dataTypeHint": "URI",
                    "isDefaultDisplay": true, 
                    "description": "URI of the requests." 
                },
                {
                    "name": "ClientIPAddress",
                    "type": "String",
                    "dataTypeHint": "IP",
                    "isDefaultDisplay": true,
                    "description": "IP Address of the client that sent the requests."
                }, 
                { 
                    "name": "UserAgent", 
                    "type": "String", 
                    "isDefaultDisplay": true, 
                    "description": "User Agent provided by the client." 
                }, 
                { 
                    "name": "StatusCode", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "HTTP Status Code of the requests." 
                }, 
                { 
                    "isHidden": true,
                    "name": "RequestLength", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "[Deprecated, remove from query and use BytesReceived instead] Length in bytes of the HTTP request." 
                }, 
                { 
                    "isHidden": true,
                    "name": "ResponseLength", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "[Deprecated, remove from query and use BytesSent instead] Length in bytes of the HTTP response." 
                },
                { 
                    "name": "BytesSent", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "The total number of bytes sent by the server across all requests included in this aggregated entry." 
                }, 
                { 
                    "name": "BytesReceived", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "The total number of bytes received by the server across all requests included in this aggregated entry." 
                },
                { 
                    "name": "HitCount", 
                    "type": "Int", 
                    "isDefaultDisplay": true, 
                    "description": "Count of requests that are included in this aggregated HTTP request log entry."
                } 
            ] 
        },
      {
        "name": "AACAudit",
        "description": "Azure App Configuration audit logs.",
        "categories": [ "audit" ],
        "tags": {},
        "properties": {},
        "artifactVersion": 3,
        "dataTypeId": "MICROSOFTAPPCONFIGURATION_AUDIT",
        "intelligencePacks": [],
        "isResourceCentric": true,
        "tableState": "Production",
        "isTroubleshootingAllowed": false,
        "input": [
          {
            "name": "time",
            "type": "DateTime"
          },
          {
            "name": "operationName",
            "type": "String"
          },
          {
            "name": "category",
            "type": "String"
          },
          {
            "name": "resultType",
            "type": "String"
          },
          {
            "name": "callerIpAddress",
            "type": "String"
          },
          {
            "name": "identity",
            "type": "String"
          },
          {
            "name": "properties",
            "type": "Dynamic"
          }
        ],
        "transformFilePath": "KQL/AACAudit.kql",
        "sampleInputRecordsFilePath": "SampleInputRecords/AACAudit.json",
        "columns": [
          {
            "name": "TimeGenerated",
            "type": "DateTime",
            "isDefaultDisplay": true,
            "description": "Timestamp (UTC) when log was generated."
          },
          {
            "name": "Category",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "The log category of the event."
          },
          {
            "name": "CorrelationId",
            "type": "String",
            "dataTypeHint": "GUID",
            "isDefaultDisplay": true,
            "description": "GUID for correlated logs."
          },
          {
            "name": "Status",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "Status of this audit event."
          },
          {
            "name": "OperationName",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "Name of the audited operation."
          },
          {
            "name": "ETag",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "An identifier for a specific version of the resource."
          },
          {
            "name": "EventCategory",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "Audit category of this event."
          },
          {
            "name": "TargetResource",
            "type": "Dynamic",
            "isDefaultDisplay": true,
            "description": "Target resource that apply to the operation being audited."
          },
          {
            "name": "ResultType",
            "type": "String",
            "isDefaultDisplay": true,
            "description": "The result of the operation being audited."
          },
          {
            "name": "CallerIdentity",
            "type": "Dynamic",
            "isDefaultDisplay": true,
            "description": "Caller identity of this event."
          },
          {
            "name": "CallerIPAddress",
            "type": "String",
            "dataTypeHint": "IP",
            "isDefaultDisplay": true,
            "description": "IP Address of the caller that triggered this audit event."
          },
          {
            "name": "RequestId",
            "type": "String",
            "dataTypeHint": "GUID",
            "isDefaultDisplay": true,
            "description": "Unique request ID generated by server."
          }
        ]
      } 
    ], 
    "functions": [], 
    "queries": [
        {
            "id": "5d179a0d-ce8a-40ed-89d0-5a5eef4f5891",
            "displayName": "Throttled Requests",
            "description": "Lists of throttled requests to the App Config Service.",
            "bodyFilePath": "KQL/ThrottledRequests.kql",
            "categories": [
                "resources"
            ],
            "relatedTables": [
                "AACHttpRequest"
            ],
            "tags": {
                "Topic": [
                    "Performance"
                ]
            },
            "properties": {
              "ExampleQuery": true
            }
        },
        {
            "id": "a9d9a6a2-de65-4f82-aca1-17f78df08b34",
            "displayName": "Most common server errors",
            "description": "Lists the most common error Status Code and a corresponding count.",
            "bodyFilePath": "KQL/CommonServerErrors.kql",
            "categories": [
                "resources"
            ],
            "relatedTables": [
                "AACHttpRequest"
            ],
            "tags": {
                "Topic": [
                    "Availability"
                ]
            },
            "properties": {
              "ExampleQuery": true
            }
        },
        {
            "id": "d3556a69-bce6-4f66-8611-5c41237c7593",
            "displayName": "Most Active Clients by IP Address",
            "description": "Lists the most common IP Addresses to communicate with the App Config Service.",
            "bodyFilePath": "KQL/MostActiveClientIPAddress.kql",
            "categories": [
                "resources"
            ],
            "relatedTables": [
                "AACHttpRequest"
            ],
            "tags": {
                "Topic": [
                    "Performance"
                ]
            },
            "properties": {
              "ExampleQuery": true
            }
        },
        {
            "id": "feb88498-7f52-4cbc-9893-a0eef24f8790",
            "displayName": "Most recent delete key-value operations",
            "description": "List the most recent deleting key-value operations in App Config data plane.",
            "bodyFilePath": "KQL/DataPlaneAuditLogs.kql",
            "categories": [
                "audit"
            ],
            "relatedTables": [
                "AACAudit"
            ],
            "tags": {
                "Topic": [
                    "Audit"
                ]
            },
            "properties": {
              "ExampleQuery": true
            }
        },
        {
            "id": "865a3ded-aeb4-473a-9f60-1af94374b5a2",
            "displayName": "Most recent client error",
            "description": "Lists the most recent failures because of client error.",
            "bodyFilePath": "KQL/ClientErrorAuditLogs.kql",
            "categories": [
                "audit"
            ],
            "relatedTables": [
                "AACAudit"
            ],
            "tags": {
                "Topic": [
                    "Audit"
                ]
            },
            "properties": {
              "ExampleQuery": true
            }
        }
    ] 
} 